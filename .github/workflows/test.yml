name: Node.js CI

on: 
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:

    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [16]
        mongodb: [ 5 ]

    steps:
      - name: Checkout 
        uses: actions/checkout@v3

      - name: Use Node.JS
        uses: actions/setup-node@v3
        with:
          node-version: ${{ matrix.node-version }}
          
      - name: Use MongoDB from Github actions
          uses: supercharge/mongodb-github-action@1.6.0  
          with: 
            mongodb-version: '5.0.14'
      #- name: Build Docker Image 
      #   run: docker build . -t imagetest
      #- run: npm ci
      #- run: npm run build --if-present
     # - run: npm test